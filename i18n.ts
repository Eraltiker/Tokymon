
import { Language, ExpenseSource } from './types';

export const translations = {
  vi: {
    income: "Doanh Thu",
    expense: "Chi Phí",
    stats: "Báo Cáo",
    settings: "Cài Đặt",
    branch: "Chi nhánh",
    branches: "Cơ sở",
    users: "Tài khoản",
    logout: "Đăng xuất",
    save: "Lưu lại",
    delete: "Xóa",
    edit: "Sửa",
    cancel: "Hủy",
    total: "Tổng",
    note: "Ghi chú",
    date: "Ngày",
    category: "Hạng mục",
    amount: "Số tiền",
    source: "Nguồn tiền",
    history: "Lịch sử",
    all: "Tất cả",
    search: "Tìm kiếm...",
    filter: "Lọc",
    login: "Đăng nhập",
    username: "Tên đăng nhập",
    password: "Mật khẩu",
    all_branches: "Toàn hệ thống",
    system_total: "Tổng quát hệ thống",
    confirm: "Xác nhận",
    update: "Cập nhật",
    add_new: "Thêm mới",
    guide: "Hướng dẫn",
    branding: "Danh mục & Định kỳ",
    choose_branch_to_config: "Vui lòng chọn chi nhánh",
    choose_branch_to_config_sub: "Bạn cần chọn một chi nhánh cụ thể để quản lý danh mục và chi phí định kỳ.",
    
    // New UI Elements
    add_coins_btn: "Thêm tiền xu",
    add_note_btn: "Thêm ghi chú",
    suggestions: "Gợi ý nhanh",
    entered_by: "Nhập bởi",
    edited_by: "Sửa bởi",
    paper_cash: "Tổng Kasse Shop",
    coin_wallet: "Tiền xu",
    cash_total: "Tiền mặt thực tế",

    cat_rent: "Tiền nhà / Điện",
    cat_trash: "Rác",
    cat_salary: "Lương công nhân",
    cat_ingredients: "Nguyên liệu",
    cat_tax: "Thuế",
    cat_bonus: "Bonus",
    cat_gutschein: "Gutschein",
    cat_error: "Sai / Nhầm",
    cat_debt: "Nợ / Tiền ứng",
    cat_insurance: "Bảo hiểm",
    cat_other: "Chi phí khác",

    src_shop_cash: "Tiền Quán",
    src_wallet: "Ví Tổng",
    src_card: "Thẻ/Bank",
    debt_label: "Công nợ",
    
    login_welcome: "Chào mừng trở lại",
    login_sub: "Hệ thống quản lý tài chính Tokymon",
    dev_by: "Phát triển bởi",
    ver: "Phiên bản",
    enterprise_security: "Bảo mật Doanh nghiệp",

    overview_tab: "T.Quan",
    daily_tab: "Ngày",
    branch_tab: "Cơ sở",
    wallet_tab: "Ví tiền",
    liabilities_tab: "Nợ",
    revenue_month: "Doanh thu tháng này",
    profit: "Lợi nhuận",
    margin: "Tỷ suất",
    debt_total: "Tổng công nợ NCC",
    handover_label: "Bàn giao",
    revenue_source: "Nguồn thu",
    top_categories: "Chi phí lớn nhất",
    ai_analysis_title: "Phân tích AI",
    ai_btn: "Phân tích",
    ranking: "Xếp hạng",
    daily_revenue_chart: "Biểu đồ doanh thu ngày",
    revenue_comparison: "So sánh doanh thu",
    liabilities_list: "Danh sách công nợ",
    
    chot_so: "Chốt Sổ Ngày",
    chi_phi: "Chi Phí",
    kasse_total: "Tổng Kasse Shop",
    card_total: "Tiền Thẻ (Bank)",
    app_total: "Tiền App",
    paid: "Đã trả",
    unpaid: "Chưa trả",
    vendor_name: "Nhà cung cấp / Chủ nợ",
    save_transaction: "Lưu Giao Dịch",
    placeholder_search: "Tìm nội dung...",
    from_date: "Từ ngày",
    to_date: "Đến ngày",
    reset_filter: "Xóa bộ lọc",
    choose_branch_hint: "Chọn chi nhánh để nhập liệu",
    select_branch_btn: "Chọn chi nhánh",
    edit_title: "Chỉnh sửa",
    save_changes_btn: "Cập nhật ngay",
    update_now_btn: "Khám phá ngay",
    whats_new: "Có gì mới",
    about: "Giới thiệu",
    active: "Hoạt động",
    confirm_logout: "Rời khỏi hệ thống Tokymon?",
    error_login: "Sai tài khoản hoặc mật khẩu!",
    export_empty: "Không có dữ liệu để xuất!",
    download_now: "Tải báo cáo ngay",
    
    ai_scanning_text: "AI đang phân tích dữ liệu...",
    ai_hint: "Nhấn nút để bắt đầu phân tích tài chính",
    assets_available: "Tài sản hiện có",
    cash_wallet: "Tiền mặt / Ví",
    bank_card: "Thẻ / Ngân hàng",
    no_data: "Không có dữ liệu",
    categories_man: "Quản lý hạng mục",
    recurring_expense: "Chi phí định kỳ",
    create_monthly: "Tạo chi phí tháng này",
    update_branch: "Cập nhật chi nhánh",
    add_branch: "Thêm chi nhánh",
    branch_name: "Tên chi nhánh",
    branch_address: "Địa chỉ",
    initial_cash: "Vốn tiền mặt",
    initial_card: "Vốn thẻ/bank",
    confirm_delete_branch: "Bạn có chắc chắn muốn xóa chi nhánh này?",
    confirm_reset_data: "Bạn có chắc chắn muốn xóa dữ liệu của chi nhánh này?",
    role: "Quyền hạn",
    assign_branch: "Gán chi nhánh",
    export_excel: "Xuất báo cáo Excel",
    support: "Hỗ trợ kỹ thuật",
    branch_config_sub: "Cấu hình cơ sở kinh doanh",
    brand_color: "Màu sắc nhận diện",
    personnel_list: "Danh sách nhân sự",
    system_permission: "Phân quyền hệ thống",
    user_add_title: "Thêm tài khoản mới",
    user_edit_title: "Cập nhật tài khoản",
    lang_current: "Tiếng Việt",
    lang_other: "Deutsch"
  },
  de: {
    income: "Einnahmen",
    expense: "Ausgaben",
    stats: "Berichte",
    settings: "Setup",
    branch: "Filiale",
    branches: "Filialen",
    users: "Benutzer",
    logout: "Abmelden",
    save: "Speichern",
    delete: "Löschen",
    edit: "Editieren",
    cancel: "Abbrechen",
    total: "Gesamt",
    note: "Notiz",
    date: "Datum",
    category: "Kategorie",
    amount: "Betrag",
    source: "Quelle",
    history: "Verlauf",
    all: "Alle",
    search: "Suche...",
    filter: "Filter",
    login: "Anmelden",
    username: "Benutzername",
    password: "Passwort",
    all_branches: "Gesamtes System",
    system_total: "Systemübersicht",
    confirm: "Bestätigen",
    update: "Aktualisieren",
    add_new: "Hinzufügen",
    guide: "Anleitung",
    branding: "Kategorien & Abo",
    choose_branch_to_config: "Filiale auswählen",
    choose_branch_to_config_sub: "Bitte wählen Sie eine Filiale aus, um Kategorien und Abos zu verwalten.",

    add_coins_btn: "Münzgeld hinzufügen",
    add_note_btn: "Notiz hinzufügen",
    suggestions: "Vorschläge",
    entered_by: "Erstellt von",
    edited_by: "Bearbeitet von",
    paper_cash: "Gesamt Kasse Shop",
    coin_wallet: "Münzen",
    cash_total: "Bargeld Ist",

    cat_rent: "Miete / Strom",
    cat_trash: "Müll",
    cat_salary: "Lohn / Gehalt",
    cat_ingredients: "Zutaten / Ware",
    cat_tax: "Steuern",
    cat_bonus: "Bonus",
    cat_gutschein: "Gutschein",
    cat_error: "Fehler / Differenz",
    cat_debt: "Schulden / Vorschuss",
    cat_insurance: "Versicherung",
    cat_other: "Sonstiges",

    src_shop_cash: "Ladenkasse",
    src_wallet: "Hauptkasse",
    src_card: "Karte/Bank",
    debt_label: "Verbindlichkeit",

    login_welcome: "Willkommen zurück",
    login_sub: "Tokymon Finanzmanagement",
    dev_by: "Entwickelt von",
    ver: "Version",
    enterprise_security: "Enterprise Sicherheit",

    overview_tab: "Überbl.",
    daily_tab: "Tag",
    branch_tab: "Filiale",
    wallet_tab: "Kasse",
    liabilities_tab: "Schuld.",
    revenue_month: "Monatsumsatz",
    profit: "Gewinn",
    margin: "Marge",
    debt_total: "Gesamtverbindlichkeiten",
    handover_label: "Übergabe",
    revenue_source: "Einnahmequellen",
    top_categories: "Höchste Kosten",
    ai_analysis_title: "KI-Analyse",
    ai_btn: "Analyse",
    ranking: "Ranking",
    daily_revenue_chart: "Tagesumsatz-Diagramm",
    revenue_comparison: "Umsatzvergleich",
    liabilities_list: "Verbindlichkeitenliste",

    chot_so: "Tagesabschluss",
    chi_phi: "Ausgaben",
    kasse_total: "Ladenumsatz Shop",
    card_total: "Kartenzahlung",
    app_total: "App-Umsatz",
    paid: "Bezahlt",
    unpaid: "Offen",
    vendor_name: "Lieferant / Gläubiger",
    save_transaction: "Speichern",
    placeholder_search: "Suchen...",
    from_date: "Von",
    to_date: "Bis",
    reset_filter: "Zurücksetzen",
    choose_branch_hint: "Filiale wählen",
    select_branch_btn: "Filiale wählen",
    edit_title: "Bearbeiten",
    save_changes_btn: "Aktualisieren",
    update_now_btn: "Entdecken",
    whats_new: "Was ist neu",
    about: "Über uns",
    active: "Aktiv",
    confirm_logout: "Abmelden?",
    error_login: "Falscher Benutzername oder Passwort!",
    export_empty: "Keine Daten!",
    download_now: "Download",
    
    ai_scanning_text: "KI analysiert Daten...",
    ai_hint: "Klicken Sie auf Analyse starten",
    assets_available: "Verfügbares Vermögen",
    cash_wallet: "Bargeld / Kasse",
    bank_card: "Karte / Bank",
    no_data: "Keine Daten",
    categories_man: "Kategorien verwalten",
    recurring_expense: "Regelmäßige Ausgaben",
    create_monthly: "Monatliche erstellen",
    update_branch: "Filiale aktualisieren",
    add_branch: "Filiale hinzufügen",
    branch_name: "Filialname",
    branch_address: "Adresse",
    initial_cash: "Anfangsbestand Bar",
    initial_card: "Anfangsbestand Karte",
    confirm_delete_branch: "Möchten Sie diese Filiale wirklich löschen?",
    confirm_reset_data: "Möchten Sie WIRKLICH alle Transaktionen dieser Filiale löschen?",
    role: "Rolle",
    assign_branch: "Filiale zuweisen",
    export_excel: "Excel-Export",
    support: "Technischer Support",
    branch_config_sub: "Filialkonfiguration",
    brand_color: "Markenfarbe",
    personnel_list: "Personalliste",
    system_permission: "Systemberechtigungen",
    user_add_title: "Neuer Benutzer",
    user_edit_title: "Benutzer aktualisieren",
    lang_current: "Deutsch",
    lang_other: "Tiếng Việt"
  }
};

const categoryMap: Record<string, keyof typeof translations['vi']> = {
  "Tiền nhà / Điện": "cat_rent",
  "Rác": "cat_trash",
  "Lương công nhân": "cat_salary",
  "Nguyên liệu": "cat_ingredients",
  "Thuế": "cat_tax",
  "Bonus": "cat_bonus",
  "Gutschein": "cat_gutschein",
  "Sai": "cat_error",
  "Sai / Nhầm": "cat_error",
  "Nợ / Tiền ứng": "cat_debt",
  "Bảo hiểm": "cat_insurance",
  "Chi phí khác": "cat_other"
};

const sourceMap: Record<ExpenseSource, keyof typeof translations['vi']> = {
  [ExpenseSource.SHOP_CASH]: "src_shop_cash",
  [ExpenseSource.WALLET]: "src_wallet",
  [ExpenseSource.CARD]: "src_card"
};

export const useTranslation = (lang: Language) => {
  const t = (key: keyof typeof translations['vi']) => {
    return translations[lang][key] || key;
  };

  const translateCategory = (cat: string) => {
    if (!cat) return "";
    const trimmedCat = cat.trim();
    const key = categoryMap[trimmedCat];
    return key ? t(key) : cat;
  };

  const translateSource = (src?: ExpenseSource) => {
    if (!src) return t("debt_label");
    const key = sourceMap[src];
    return key ? t(key) : src;
  };

  return { t, translateCategory, translateSource };
};
