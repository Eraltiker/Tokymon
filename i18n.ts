
import { Language, ExpenseSource } from './types';

export const translations = {
  vi: {
    income: "Doanh Thu",
    expense: "Chi Phí",
    stats: "Báo Cáo",
    settings: "Cài Đặt",
    branch: "Chi nhánh",
    branches: "Cơ sở",
    users: "Tài khoản",
    logout: "Đăng xuất",
    save: "Lưu lại",
    delete: "Xóa",
    edit: "Sửa",
    cancel: "Hủy",
    total: "Tổng",
    note: "Ghi chú",
    date: "Ngày",
    category: "Hạng mục",
    amount: "Số tiền",
    source: "Nguồn tiền",
    history: "Lịch sử",
    all: "Tất cả",
    search: "Tìm kiếm...",
    filter: "Lọc",
    login: "Đăng nhập",
    username: "Tên đăng nhập",
    password: "Mật khẩu",
    all_branches: "Toàn hệ thống",
    system_total: "Tổng quát hệ thống",
    confirm: "Xác nhận",
    update: "Cập nhật",
    add_new: "Thêm mới",
    guide: "Hướng dẫn",
    branding: "Danh mục & Định kỳ",
    choose_branch_to_config: "Vui lòng chọn chi nhánh",
    choose_branch_to_config_sub: "Bạn cần chọn một chi nhánh cụ thể để quản lý danh mục và chi phí định kỳ.",
    
    add_note_btn: "Thêm ghi chú",
    suggestions: "Gợi ý thông minh",
    entered_by: "Nhập bởi",
    edited_by: "Sửa bởi",
    paper_cash: "Tổng Doanh Thu (Z-Bon)",
    cash_total: "Tiền mặt thực tế về túi",

    cat_rent: "Tiền nhà / Điện",
    cat_trash: "Rác",
    cat_salary: "Lương công nhân",
    cat_ingredients: "Nguyên liệu",
    cat_tax: "Thuế",
    cat_bonus: "Bonus",
    cat_gutschein: "Gutschein",
    cat_error: "Sai / Nhầm",
    cat_debt: "Nợ / Tiền ứng",
    cat_insurance: "Bảo hiểm",
    cat_other: "Chi phí khác",

    src_shop_cash: "Tiền Quán",
    src_wallet: "Ví Tổng",
    src_card: "Thẻ/Bank",
    debt_label: "Công nợ",
    
    login_welcome: "Chào mừng trở lại",
    login_sub: "Quản lý Tokymon",
    dev_by: "Phát triển bởi",
    ver: "Phiên bản",
    enterprise_security: "Bảo mật",

    overview_tab: "T.Quan",
    daily_tab: "Sổ Ngày",
    branch_tab: "Cơ sở",
    wallet_tab: "Ví tiền",
    liabilities_tab: "Công Nợ",
    revenue_month: "Doanh thu tháng",
    profit: "Lợi nhuận",
    margin: "Tỷ suất",
    debt_total: "Tổng nợ hiện tại",
    handover_label: "Bàn giao",
    revenue_source: "Nguồn thu",
    top_categories: "Chi phí lớn",
    ai_analysis_title: "Trợ lý AI TokyPro",
    ai_btn: "Phân tích chiến lược",
    ranking: "Xếp hạng",
    daily_revenue_chart: "Biểu đồ ngày",
    revenue_comparison: "So sánh",
    liabilities_list: "Danh sách nợ",
    
    chot_so: "Chốt Báo Cáo Ngày",
    chi_phi: "Chi Phí",
    kasse_total: "Tổng Kasse (Z-Bon)",
    card_total: "Thanh toán Thẻ",
    app_total: "Doanh thu App",
    paid: "Đã trả",
    unpaid: "Công nợ",
    vendor_name: "Tên Chủ nợ / Nhân viên",
    save_transaction: "Lưu báo cáo",
    placeholder_search: "Tìm theo tên, ghi chú...",
    from_date: "Từ ngày",
    to_date: "Đến ngày",
    reset_filter: "Xóa lọc",
    choose_branch_hint: "Chọn chi nhánh",
    select_branch_btn: "Chọn chi nhánh",
    edit_title: "Chỉnh sửa",
    save_changes_btn: "Cập nhật",
    update_now_btn: "Khám phá",
    whats_new: "Cập nhật",
    about: "Giới thiệu",
    active: "Hoạt động",
    confirm_logout: "Đăng xuất khỏi Tokymon?",
    error_login: "Sai tài khoản!",
    export_empty: "Không có dữ liệu!",
    download_now: "Tải Excel",
    
    ai_scanning_text: "AI đang làm việc...",
    ai_hint: "Bấm để phân tích tài chính",
    assets_available: "Tài sản",
    cash_wallet: "Tiền mặt",
    bank_card: "Ngân hàng",
    no_data: "Trống",
    categories_man: "Hạng mục chi",
    recurring_expense: "Chi định kỳ",
    create_monthly: "Tạo tự động",
    update_branch: "Sửa chi nhánh",
    add_branch: "Thêm chi nhánh",
    branch_name: "Tên cơ sở",
    branch_address: "Địa chỉ",
    initial_cash: "Vốn tiền mặt",
    initial_card: "Vốn bank",
    confirm_delete_branch: "Xóa chi nhánh này?",
    confirm_reset_data: "Xóa toàn bộ dữ liệu giao dịch?",
    role: "Quyền",
    assign_branch: "Gán chi nhánh",
    export_excel: "Xuất Excel",
    support: "Hỗ trợ",
    branch_config_sub: "Cấu hình cơ sở",
    brand_color: "Màu nhận diện",
    personnel_list: "Nhân sự",
    system_permission: "Phân quyền",
    user_add_title: "Thêm tài khoản",
    user_edit_title: "Sửa tài khoản",
    lang_current: "Tiếng Việt",
    lang_other: "Deutsch",

    // Debt specific
    paid_amount: "Đã trả",
    remaining_debt: "Còn nợ",
    partial_pay: "Trả một phần",
    full_pay: "Trả hết",
    debt_type_vendor: "Nhà cung cấp",
    debt_type_staff: "Tiền ứng NV",
    debt_manager_title: "Quản Lý Công Nợ & Tiền Ứng",
    quick_pay_btn: "Thanh toán nhanh",

    // Filter labels
    filter_min_amount: "Giá thấp nhất",
    filter_max_amount: "Giá cao nhất",
    filter_status: "Trạng thái nợ",
    filter_category: "Theo hạng mục",
    filter_source: "Theo nguồn tiền",
    status_paid: "Đã thanh toán",
    status_debt: "Đang nợ NCC",

    // Dashboard specific
    month_label: "Tháng",
    quarter_label: "Quý",
    year_label: "Năm",
    performance_analysis: "Phân tích hiệu suất",
    daily_audit_title: "Phiếu quyết toán tài chính",
    expected_pocket: "Két mặt thực thu",
    net_handover_title: "TỔNG TIỀN BÀN GIAO",
    tip_hint: "Dư két = Tiền Tip",
    system_verified: "Dữ liệu đã được hệ thống xác thực",
    ai_strategy_sub: "Phân tích chiến lược & Dự báo",
    wallet_master: "Ví Tổng Tokymon",
    bank_digital: "Tài khoản Digital",
    estimated_balance: "Số dư ước tính",
    current_balance: "Số dư hiện tại",
    opening_balance: "Vốn đầu kỳ",
    handover_in: "Bàn giao (+)",
    withdrawal_out: "Rút chi (-)",
    journal_title: "Sổ Nhật Ký Tài Chính",
    logic_hint_app: "Mẹo: Doanh thu App được tính là tiền mặt về túi trong ngày để bàn giao.",
    
    MONTH: "Tháng",
    QUARTER: "Quý",
    YEAR: "Năm"
  },
  de: {
    income: "Einnahmen",
    expense: "Ausgaben",
    stats: "Berichte",
    settings: "Setup",
    branch: "Filiale",
    branches: "Filialen",
    users: "Benutzer",
    logout: "Abmelden",
    save: "Speichern",
    delete: "Löschen",
    edit: "Editieren",
    cancel: "Abbrechen",
    total: "Gesamt",
    note: "Notiz",
    date: "Datum",
    category: "Kategorie",
    amount: "Betrag",
    source: "Quelle",
    history: "Verlauf",
    all: "Alle",
    search: "Suche...",
    filter: "Filter",
    login: "Anmelden",
    username: "Benutzername",
    password: "Passwort",
    all_branches: "Alle Filialen",
    system_total: "Gesamtübersicht",
    confirm: "Bestätigen",
    update: "Aktualisieren",
    add_new: "Neu",
    guide: "Anleitung",
    branding: "Setup",
    choose_branch_to_config: "Filiale wählen",
    choose_branch_to_config_sub: "Wählen Sie eine Filiale aus.",

    add_note_btn: "Notiz",
    suggestions: "KI-Vorschläge",
    entered_by: "Von",
    edited_by: "Editiert von",
    paper_cash: "Umsatz (Z-Bon)",
    cash_total: "Bargeld Ist",

    cat_rent: "Miete / Strom",
    cat_trash: "Müll",
    cat_salary: "Lohn",
    cat_ingredients: "Ware",
    cat_tax: "Steuern",
    cat_bonus: "Bonus",
    cat_gutschein: "Gutschein",
    cat_error: "Differenz",
    cat_debt: "Vorschuss",
    cat_insurance: "Versicherung",
    cat_other: "Sonstiges",

    src_shop_cash: "Ladenkasse",
    src_wallet: "Hauptkasse",
    src_card: "Karte/Bank",
    debt_label: "Verbindlichk.",

    login_welcome: "Willkommen",
    login_sub: "Tokymon Admin",
    dev_by: "Von",
    ver: "Version",
    enterprise_security: "Sicherheit",

    overview_tab: "Überblick",
    daily_tab: "Journal",
    branch_tab: "Filiale",
    wallet_tab: "Kasse",
    liabilities_tab: "Schulden",
    revenue_month: "Monatsumsatz",
    profit: "Gewinn",
    margin: "Marge",
    debt_total: "Gesamtschulden",
    handover_label: "Übergabe",
    revenue_source: "Einnahmen",
    top_categories: "Top Kosten",
    ai_analysis_title: "KI-Assistent TokyPro",
    ai_btn: "KI Analyse",
    ranking: "Ranking",
    daily_revenue_chart: "Statistik",
    revenue_comparison: "Vergleich",
    liabilities_list: "Offene Posten",

    chot_so: "Tagesabschluss",
    chi_phi: "Ausgaben",
    kasse_total: "Z-Bon Gesamt",
    card_total: "Karte",
    app_total: "App",
    paid: "Bezahlt",
    unpaid: "Offen",
    vendor_name: "Lieferant / Name",
    save_transaction: "Speichern",
    placeholder_search: "Suchen...",
    from_date: "Von",
    to_date: "Bis",
    reset_filter: "Reset",
    choose_branch_hint: "Filiale wählen",
    select_branch_btn: "Filiale wählen",
    edit_title: "Editieren",
    save_changes_btn: "Speichern",
    update_now_btn: "Mehr",
    whats_new: "News",
    about: "Über uns",
    active: "Aktiv",
    confirm_logout: "Abmelden?",
    error_login: "Falsche Daten!",
    export_empty: "Keine Daten!",
    download_now: "Excel",
    
    ai_scanning_text: "KI arbeitet...",
    ai_hint: "Analyse starten",
    assets_available: "Vermögen",
    cash_wallet: "Bargeld",
    bank_card: "Bank",
    no_data: "Keine",
    categories_man: "Kategorien",
    recurring_expense: "Abos",
    create_monthly: "Automatisch",
    update_branch: "Sửa",
    add_branch: "Hinzufügen",
    branch_name: "Name",
    branch_address: "Adresse",
    initial_cash: "Bar Anfang",
    initial_card: "Bank Anfang",
    confirm_delete_branch: "Löschen?",
    confirm_reset_data: "Daten resetten?",
    role: "Rolle",
    assign_branch: "Zuweisen",
    export_excel: "Excel",
    support: "Support",
    branch_config_sub: "Setup",
    brand_color: "Farbe",
    personnel_list: "Personal",
    system_permission: "Rechte",
    user_add_title: "Neuer User",
    user_edit_title: "User Edit",
    lang_current: "Deutsch",
    lang_other: "Tiếng Việt",

    month_label: "Monat",
    quarter_label: "Quartal",
    year_label: "Jahr",
    performance_analysis: "Performance",
    daily_audit_title: "Tagesprotokoll",
    expected_pocket: "Bar Erwartet",
    net_handover_title: "ÜBERGABE GESAMT",
    tip_hint: "Trinkgeld",
    system_verified: "Verifiziert",
    ai_strategy_sub: "Strategie",
    wallet_master: "Hauptkasse",
    bank_digital: "Bank",
    estimated_balance: "Geschätzt",
    current_balance: "Aktuell",
    opening_balance: "Anfang",
    handover_in: "In (+)",
    withdrawal_out: "Out (-)",
    journal_title: "Finanzjournal",
    logic_hint_app: "Tipp: App-Umsätze zählen als Bargeld.",
    
    paid_amount: "Bezahlt",
    remaining_debt: "Restschuld",
    partial_pay: "Teilzahlung",
    full_pay: "Voll",
    debt_type_vendor: "Lieferant",
    debt_type_staff: "Vorschuss",
    debt_manager_title: "Verbindlichkeiten",
    quick_pay_btn: "Quick Pay",

    filter_min_amount: "Min Betrag",
    filter_max_amount: "Max Betrag",
    filter_status: "Status",
    filter_category: "Kategorie",
    filter_source: "Quelle",
    status_paid: "Bezahlt",
    status_debt: "Offen",

    MONTH: "Monat",
    QUARTER: "Quartal",
    YEAR: "Jahr"
  }
};

const categoryMap: Record<string, keyof typeof translations['vi']> = {
  "Tiền nhà / Điện": "cat_rent",
  "Rác": "cat_trash",
  "Lương công nhân": "cat_salary",
  "Nguyên liệu": "cat_ingredients",
  "Thuế": "cat_tax",
  "Bonus": "cat_bonus",
  "Gutschein": "cat_gutschein",
  "Sai": "cat_error",
  "Sai / Nhầm": "cat_error",
  "Nợ / Tiền ứng": "cat_debt",
  "Bảo hiểm": "cat_insurance",
  "Chi phí khác": "cat_other"
};

const sourceMap: Record<ExpenseSource, keyof typeof translations['vi']> = {
  [ExpenseSource.SHOP_CASH]: "src_shop_cash",
  [ExpenseSource.WALLET]: "src_wallet",
  [ExpenseSource.CARD]: "src_card"
};

export const useTranslation = (lang: Language) => {
  const t = (key: keyof typeof translations['vi']) => {
    return translations[lang][key] || key;
  };

  const translateCategory = (cat: string) => {
    if (!cat) return "";
    const trimmedCat = cat.trim();
    const key = categoryMap[trimmedCat];
    return key ? t(key) : cat;
  };

  const translateSource = (src?: ExpenseSource) => {
    if (!src) return t("debt_label");
    const key = sourceMap[src];
    return key ? t(key) : src;
  };

  return { t, translateCategory, translateSource };
};
